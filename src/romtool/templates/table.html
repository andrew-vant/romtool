{#-
  Expected context:
    caption - table caption/title
    headers - column headers
    objects - object to output, one per row
-#}

<table>
  <caption>{{ caption }}
  <thead>
    <tr>
      {%- for header in headers %}
      <td>{{ header }}</td>
      {%- endfor %}
    </tr>
  </thead>
  <tbody>
    {%- for object in objects %}
    <tr>
      {%- for key in headers %}
      <td>{{ object[key] }}</td>
      {%- endfor %}
    </tr>
  </tbody>
</table>
